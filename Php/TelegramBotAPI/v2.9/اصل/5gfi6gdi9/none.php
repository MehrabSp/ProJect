<?php
// step none
//---------------------------------------------------------------------------------
    $telegram_ip_ranges = [['lower' => '149.154.160.0', 'upper' => '149.154.175.255'], ['lower' => '91.108.4.0', 'upper' => '91.108.7.255'],];
    $ip_dec = (float) sprintf("%u", ip2long($_SERVER['REMOTE_ADDR']));
    $ok = false;
    foreach ($telegram_ip_ranges as $telegram_ip_range) if (!$ok) {
        $lower_dec = (float) sprintf("%u", ip2long($telegram_ip_range['lower']));
        $upper_dec = (float) sprintf("%u", ip2long($telegram_ip_range['upper']));
        if ($ip_dec >= $lower_dec && $ip_dec <= $upper_dec) $ok = true;
    }
    if (!$ok) die("<center>
<p>ุฏุณุชุฑุณ ุดูุง ุจู ุงู ุตูุญู ุชูุณุท ุณุงุฒูุฏู ูุญุฏูุฏ ุดุฏู</p>
</center>");
//---------------------------------------------------------------------------------
if ($invited == "faal") {
            $asw = mysqli_fetch_assoc(mysqli_query($connect, "SELECT * FROM `user` WHERE `id` = '$inviter' LIMIT 1"));
            $newgold = $asw["gold"] + 100;
            $newtedad = $asw["tedad"] + 1;
            SendMessage($inviter, language("๐ ุชุจุฑฺฉุ 100 ุณฺฉู ุจุงุจุช ุฒุฑูุฌููุนู ุฌุฏุฏ ุฏุฑุงูุช ฺฉุฑุฏุฏ.","Congratulations, you received +100 coins for the new subset."), 'MARKDOWN', null);
            $connect->query("UPDATE `user` SET `gold` = '$newgold' , `tedad` = '$newtedad' WHERE `id` = '$inviter' LIMIT 1");
            $connect->query("UPDATE `user` SET `invited` = 'Ok' WHERE `id` = '$from_id' LIMIT 1");
        }
switch ($textmessage) {
//---------------------------------------------------------------------------------
case '๐':
            SendMessage($from_id, language("โ๏ธ ุฌูุช ุงุฑุชุจุงุท ุจุง ุจุฎุด ูพุดุชุจุงู ูพุงู ุฎูุฏ ุฑุง ุจุง ุฑุนุงุช ููุงุฑุฏ ุฒุฑ ุจู ูุดุงู @MehraB_S ุงุฑุณุงู ููุงุฏ.

โข ูุทูุง ูพุงูุ ุณูุงูุ ูพุดููุงุฏ ู ุง ุงูุชูุงุฏ ุฎูุฏ ุฑุง ุฏุฑ ูุงูุจ ฺฉ ูพุงู ูุงุญุฏ ุจู ุทูุฑ ฺฉุงูู ุงุฑุณุงู ฺฉูุฏ (ุงุฒ ูพุงุณุฎฺฏู ุจู ูพุงููุง ุฌุฏุงฺฏุงููุ ูุงูุต ู ุงุญูุงููพุฑุณ ูุนุฐูุฑู)
โข ุงฺฏุฑ ูพุงูุชุงู ุฏุฑ ุฑุงุจุทู ุจุง ุณูุงุฑุด ุฎุงุต ุงุณุช ุญุชูุง ูพุงู 'ุซุจุช ุณูุงุฑุด' ู ูพุณุช ููุฑุฏูุธุฑ ุฑุง ูุฒ ุงุฑุณุงู ฺฉูุฏ.
โข ุฏุฑุตูุฑุช ฺฉู ูุฎูุงูุฏ ฺฏุฒุงุฑุด ุชุฎูู ุฑุง ุจุฏูุฏุ ูุฏุงุฑฺฉ ูุฑุจูุทู ู ุดูุงุณู ูุง ฺฉุงุฑุจุฑ ูุฑุชุจุท ุฑุง ุญุชูุง ุงุฑุณุงู ฺฉูุฏ.

๐๐ป ุณุน ุจุฎุด ูพุดุชุจุงู ุจุฑ ุงู ุงุณุช ฺฉู ุชูุงู ูพุงู ูุง ุฏุฑุงูุช ุฏุฑ ฺฉูุชุฑ ุงุฒ ฑฒ ุณุงุนุช ูพุงุณุฎ ุฏุงุฏู ุดููุฏุ ุจูุงุจุฑุงู ุชุง ุฒูุงู ุฏุฑุงูุช ูพุงุณุฎ ุตุจูุฑ ุจุงุดุฏ!","Support: @MehraB_S"), 'HTML', $button_first);
            break;
            //---------------------------------------------------------------------------------
        case 'โ๏ธ':
            SendMessage($from_id, language("โ๏ธ <b>ุงุณุชูุงุฏู ุงุฒ ุฑุจุงุช ฺฉูฺฉ ุจู ููุฒููโ ูุจูู ุดุฑุงุท ู ููุงูู ุฒุฑ ุงุณุช:</b>

1- ูพุณุชูุง ุงุฑุณุงู ุดูุง ุจุฑุง ุงูุฒุงุด ุจุงุฒุฏุฏุ ุชูุณุท ูฺ ูุฑุฏ ูุงูุนโุง ุฏุฏู ููุดูุฏ ุจูุงุจุฑุงู ููุงุณุจ ฺฉุงุฑูุง <u>ุชุจูุบุงุช</u> ูุณุช.

2- ุฎุฑุฏ ู ูุฑูุด ููุฌูุฏ ุฑุจุงุช ุชูุณุท ฺฉุงุฑุจุฑุงู <u>ุจูุงูุงูุน</u> ุงุณุช ุงูุง ุดุฑฺฉุช ฺฉูฺฉ ูฺ ฺฏููู ุชุนูุฏ ุจุฑุง ูพฺฏุฑ ุชุฎููุงุช ูุฑุจูุทู ูุฏุงุฑุฏ ู ููุท ุฏุฑ ุตูุฑุช ุตูุงุญ ุฏุฏ ูพฺฏุฑ ุงูุฌุงู ูุดูุฏ.

3- ุฏุฑุตูุฑุช ฺฉู ูุตุฏ ุฎุฑุฏ ุณฺฉู ุงูุจูู ุฑุง ุฏุงุฑุฏ ูุจู ุงุฒ ุขู ุจุง ูพุดุชุจุงู ุฏุฑ ุงุฑุชุจุงุท ุจุงุดุฏ. ( ุงฺฏุฑ ููุจุน ุณฺฉู ูุง ุจุฏุณุช ุขูุฏู ุงุฒ ุทุฑู ุจุงฺฏ ุฑุจุงุช ู ุง ุฎุฑุฏ ุจุง ฺฉุงุฑุชโูุง ูฺฉ ุดุฏู ุจุงุดุฏ ุญุณุงุจ ุขู ฺฉุงุฑุจุฑ ุจุฏูู ุชุฐฺฉุฑ ูุณุฏูุฏ ุฏุงุฆู ุฎูุงูุฏ ุดุฏ)

4- ุฏุฑุงูุช ููฺฉ ูพุฑุฏุงุฎุช ุงุฒ ุฑุจุงุช ู ุงุฑุณุงู ุขู ุจู ุณุงุฑ ุงูุฑุงุฏ ุฌูุช ูุงุฑุฒ ูุฌู ุชุฎูู ูุญุณูุจ ูุดูุฏ ู ุฏุฑุตูุฑุช ูุดุงูุฏู ุญุณุงุจ ฺฉุงุฑุจุฑ ูุณุฏูุฏ ุฏุงุฆู ุฎูุงูุฏ ุดุฏ.

5- ุฏุฑ ุตูุฑุช ูุดุงูุฏู ูพุงู ุจุด ุงุฒ ุญุฏ  (Spam) ู ุง ูุฑ ฺฏููู ุชุฎูู ุฏฺฏุฑ ุฏุฑ ุฑุจุงุช ุญุณุงุจ ุขู ฺฉุงุฑุจุฑ ูุณุฏูุฏ ุฏุงุฆู ูุดูุฏ. ( ุฑุจุงุช ุฏุงุฑุง ุขูุช Spam ุงุณุช ู ุฏุฑ ุตูุฑุช ฺฉู ฺฉุงุฑุจุฑ ุณู ุงุฎุทุงุฑ ุฑุง ุฏุฑุงูุช ฺฉูุฏ ุญุณุงุจ ุขู ฺฉุงุฑุจุฑ ุชูุณุท ุฑุจุงุช ูุณุฏูุฏ ุฏุงุฆู ุฎูุงูุฏ ุดุฏ ู ุบุฑ ูุงุจู ุจุฎุดุด ุงุณุช)

6- ุฏุฑ ุตูุฑุช ูุดุงูุฏู ุฒุฑูุฌููุนู ฺฏุฑ ูฺฉ ุญุณุงุจ ุขู ฺฉุงุฑุจุฑ ฺฉ ููุชู ูุณุฏูุฏ ูุดูุฏ.

<i>ุขุฎุฑู ูุฑุงุด ููุงูู: 15 ุขุจุงู 1399</i>","Unregulated rules"), 'HTML', $button_first);
            break;
            //---------------------------------------------------------------------------------
		case '๐ฐ Buy Gold':
        case '๐ฐ ุฎุฑุฏ ุณฺฉู':
            SendMessage($from_id, language("
			ุจุณุชู ุดุฏ
			โุชุนุฏุงุฏ #ุณฺฉู ููุฑุฏูุธุฑ ุฎูุฏ ุฑุง ูุงุฑุฏ ููุงุฏ. (ูุฑ 1000 ุณฺฉู 300 ุชููุงู)

ูุฌููุน ุฎุฑุฏ ุดูุง: $buygold ุชููุงู","is Closed"), 'HTML', $button_first);
			$connect->query("UPDATE `user` SET `step` = 'none' WHERE id = '$from_id' LIMIT 1");
            //$connect->query("UPDATE `user` SET `step` = 'seke' WHERE id = '$from_id' LIMIT 1");
            break;
            //---------------------------------------------------------------------------------
        case '๐':
            SendMessage($from_id, language("๐๐ป ุจุฑุง ุฏุฑุงูุช ุณฺฉู ุฑุงฺฏุงู ฺฉ ุงุฒ ุจุฎุด ูุง ุฒุฑ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.","Free Gold :"), 'HTML', $button_office);
            $connect->query("UPDATE `user` SET `step` = 'ziri' WHERE id = '$from_id' LIMIT 1");
            break;
            //---------------------------------------------------------------------------------
		case '๐ Anti Spam Channel':
        case '๐ ุถุฏุงุณูพู/ฺฉูุชุฑู ฺฉุงูุงู':
		if ($idCH != null){
            SendMessage($from_id, language("ูุฏุฑุช ฺฉุงูุงู ุดูุง","manage channel"), 'HTML', $button_maschannel);
			$connect->query("UPDATE `user` SET `step` = 'manageCh' WHERE id = '$from_id' LIMIT 1");
		}else{
			SendMessage($from_id, language("ุดูุง ฺฉุงูุงู ุฏุฑ ุฑุจุงุช ุซุจุช ูฺฉุฑุฏุฏ","This language is not set"), 'HTML', $button_asChannel);
			$connect->query("UPDATE `user` SET `step` = 'setasChannel' WHERE id = '$from_id' LIMIT 1");
		}
            break;
            //---------------------------------------------------------------------------------
		case '๐ฐ Gold transfer':
        case '๐ฐ ุงูุชูุงู ุณฺฉู':
            SendMessage($from_id, language("โ ุชุนุฏุงุฏ ุณฺฉู ููุฑุฏ ูุธุฑ ุฌูุช ุงูุชูุงู ุฑุง ุงุฑุณุงู ููุงุฏ:

 ููุฌูุฏ ุดูุง: $gold ุณฺฉู","Enter the number of transfer golds
 You Gold: $gold"), 'HTML', $button_back);
            $connect->query("UPDATE `user` SET `step` = 'entg' WHERE id = '$from_id' LIMIT 1");
            break;
            //---------------------------------------------------------------------------------
		case '๐ค Info':
        case '๐ค ุญุณุงุจ ฺฉุงุฑุจุฑ':
            SendMessage($from_id, language("๐ค ุดูุงุณู ุดูุง: `$from_id`
๐ ุชุงุฑุฎ ุนุถูุช ุดูุง: $sHistory
๐ฐ ููุฌูุฏ ุดูุง: $gold ุณฺฉู
๐ค ุฒุฑูุฌููุนู ูุง ุดูุง: $tedad ููุฑ

โ๐งฎ ูุฌููุน ุฎุฑุฏ ูุง ุดูุง: $buygold ุชููุงู

`Tm Quick $tarikh $time`","๐ค ID: `$from_id`
๐ History Again: $sHistory
๐ฐ You gold: $gold
๐ค sub: $tedad

Yoy Buy Gold: $buygold Toman

`Tm Quick $tarikh $time`"), 'MarkDown', $button_first);
            break;
            //---------------------------------------------------------------------------------
		case 'โค๏ธ Create Like':
		case 'โค๏ธ ุณุงุฎุช ูุงฺฉ/ุฑุฃ':
        case '/like':
		if ($gold >= '10') {
			if ($stepLike == null) {
                SendMessage($from_id, language("๐ ุฑุจุงุช ุฑุง ุงุฏูู ฺฉุงูุงู ุฎูุฏ ฺฉูุฏ ู ุขุฏ ฺฉุงูุงู ุฎูุฏ ุฑุง ุจู ุตูุฑุช ฺฉุงูู ุจูุฑุณุชุฏ.

๐ฃ ุงฺฏุฑ ฺฉุงูุงู ุดูุง ุฎุตูุต ุงุณุช ูุชูุงูุฏ ุดูุงุณู ุนุฏุฏ ุขู ุฑุง ุงุฑุณุงู ฺฉูุฏ (ุชูุตู ููุดูุฏ).

 ุจุฑุง ูุฏุฑุช ฺฉุงูู ูุงฺฉ ูุงุฒู ุงุณุช ุฑุจุงุช ุงุฏูู ฺฉุงูุงู ุจุงุดุฏ ุชุง ุดูุง ุจุชูุงูุฏ ูุงฺฉ ุฎูุฏ ุฑุง ุงูุฒุงุด ู ุง ุงุฒ ุขู ฺฉุณุฑ ฺฉูุฏ.
@Tm_Quick
-1001429953692","Let's create a message with emoji buttons. Submit your channel ID first.
@Tm_Quick
-1001429953692"), 'HTML', $button_dkchnnel);
                $connect->query("UPDATE `user` SET `step` = 'like' WHERE id = '$from_id' LIMIT 1");
			}else{
				SendMessage($from_id, language("ุงู ูุณูุช ุฏุงุฑุง ูุญุฏูุฏุช ูุง ุงุณุช /likefhelp
				
- ุงููุฌ ุฏูุฎูุงู ุฎูุฏ ุฑุง ุงุฑุณุงู ฺฉูุฏ","This language is not set"), 'HTML', $button_emojish);
                $connect->query("UPDATE `user` SET `step` = 'shareLike' WHERE id = '$from_id' LIMIT 1");
			}
		}else{
			SendMessage($from_id, language("ุจุฑุง ุณุงุฎุช ูุงฺฉ ุญุฏุงูู ูุงุฒ ุจู 10 ฺฏูุฏ ุฏุงุฑุฏ","This language is not set"), 'HTML', null);
		}
            break;
				//---------------------------------------------------------------------------------
		case '/language':
		if ($language != null){
		$answer = "ุฒุจุงู ููุฑุฏ ูุธุฑ ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
		Select your preferred language";
		$ky = json_encode([
                    'inline_keyboard' => [
                        [["text" => "๐บ๐ธEnglish", "callback_data" => "languageEnglish"]],
                        [["text" => "๐ฎ๐ทPersian", "callback_data" => "languagePersian"]],
                    ]
                ]);
                SendMessage($from_id, $answer, 'HTML', $ky);
    }
	break;
	//---------------------------------------------------------------------------------
        case '/panel':
		if ($from_id == $developer){
                SendMessage($from_id, language("ูพูู ูุฏุฑุช.","Panel Admin."), 'HTML', $button_panel);
                $connect->query("UPDATE `user` SET `step` = 'panelAdmin' WHERE id = '$from_id' LIMIT 1");
		}
            break;
	//---------------------------------------------------------------------------------
        case 'ุซุจุช ุฌูฺฉ':
		if ($aVip == "accepted"){
                SendMessage($from_id, language("ุญุณุงุจ ุดูุง ุชุงุฏ ุดุฏู ุงุณุช.
				ูุชู ุฌูฺฉ ุฎูุฏ ุฑุง ุงุฑุณุงู ฺฉูุฏ ุชูุฌู ฺฉูุฏ ฺฉู ูุชู ุดูุง ุจุนุฏ ุชุงุฏ ุดุฏู ุชูุณุท ูุฏุฑ ุฏุฑ ุณุฑูุณ ุซุจุช ูุดูุฏ ุจุงุชุดฺฉุฑ.","This language is not set"), 'HTML', $button_back);
                $connect->query("UPDATE `user` SET `step` = 'sendjock' WHERE id = '$from_id' LIMIT 1");
		}else{
		SendMessage($from_id, language("ุญุณุงุจ ุดูุง ุชุงุฏ ูุดุฏู ุงุณุช","This language is not set"), 'HTML', $button_first);
		}
            break;
}